<html>
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // concat, filter, map, slice, 스프레드(전개) 연산자

      console.log('1. ==========스프레드 연산자==========');
      const a = [1, 2, 3];
      // const b = a ,얕은 복사
      const b = [...a];
      b.push(4); // 기존 배열의 값에 추가, 데이터 변경
      console.log(`a의 값 : ${a}`);
      // 얕은 복사의 경우 a, b의 값이 일치하게 된다.
      // 스프레드 연산자, 보통 데이터를 흩뿌릴 때 사용하며 후에 응용이 가능하다.

      console.log('2. ==========추가하기==========');
      const a2 = [1, 2, 3];
      const b2 = a2.concat(4);
      // concat 함수, 보통 데이터를 추가할 때 사용한다.
      // concat은 a2의 값을 바꾸는 게 아니다.
      // push를 쓰면 불변이 아니라 값이 변하게 된다.
      console.log(`a의 값은 : ${a2}`);
      console.log(`b의 값은 : ${b2}`);

      const c = [0, ...a2, 4]; // concat은 뒤에 값을 넣으나, 전개 연산자는 앞에서 값을 넣을 수 있다.
      console.log(`c의 값은 : ${c}`);

      console.log('3. ==========걸러내기==========');
      const a3 = [1, 2, 3];
      const b3 = a3.filter((n) => {
        return n != 1;
      });
      // filter 함수, 보통 데이터를 삭제할 때 사용한다.
      // a3에 요소를 하나 꺼내어 필터 안에 함수를 집어 넣어준다.
      // bool을 return받아 true인 경우만 걸러준다.
      console.log(`b의 값은 : ${b3}`);

      console.log('4. ==========잘라내기==========');
      const a4 = [1, 2, 3];
      const b4 = a4.slice(0, 2);
      console.log(b4); // [1, 2]

      const c4 = [a4.slice(0, 2)];
      console.log(c4); // [[1, 2]]

      console.log('4-1. ==========잘라낸 후 삽입==========');
      const c5 = [...a4.slice(0, 2), 4, ...a4.slice(2, 3)];
      // console.log(c5); // [1, 2]
      console.log(c5); // [1, 2, 4, 3]

      console.log('5. ==========반복하기==========');
      const a5 = [1, 2, 3];
      /*
      for (let i = 0; i < a5.length; i++) {
        console.log(a5[i]);
      }
    */
      // a5.forEach((n) => {console.log(n);}); // 리턴을 못한다.
      const b5 = a5.map((n) => n); // 순회된 데이터 리턴 가능
      // == const b5 = [...a5];
      console.log(b5);
      // map의 경우 중간 공정 중에 값 하나하나를 가공할 수 있다.

      console.log('6. ==========수정하기==========');

      const a6 = { id: 6, name: '육아무개' };
      const b6 = { ...a6, name: '새아무개' };
      console.log(b6);

      const users = [
        { id: 1, name: '일아무개', phone: '1111' },
        { id: 2, name: '이아무개', phone: '2222' },
        { id: 3, name: '삼아무개', phone: '3333' },
      ];
      const updateUserDto = {
        id: 2,
        name: '새아무개',
      };

      const newUsers = users.map((user) =>
        user.id === updateUserDto.id ? { ...user, ...updateUserDto } : user,
      );
      console.log(newUsers);
    </script>
  </body>
</html>
